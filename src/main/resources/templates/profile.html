<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head>
        <title>User Profile</title>
        <link th:href="@{/css/style.css}" rel="stylesheet">
        <script th:src="@{/js/navbar.js}"></script>
    </head>
    <body>

        <div th:replace="~{fragments/navbar :: navbar}"></div>

        <div class="search-container">
            <div class="form-container">
                <div class="edit-profile-form">
                    <div class="header">
                        <h2>Personal Information</h2>
                        <form action="/edit-profile" method="GET">
                            <button type="submit" class="edit-button">Edit Profile</button>
                        </form>
                    </div>

                    <label>Name:</label> 
                    <p th:text="${user.name}" class="profile-value"></p>

                    <label>Email:</label> 
                    <p th:text="${user.username}" class="profile-value"></p>
                    
                    <label>Phone Number:</label>
                    <p th:text="${user.phoneNumber}" class="profile-value"></p>

                    <label>Location:</label>
                    <p th:text="${user.location}" class="profile-value"></p>

                    <label>Occupation:</label>
                    <p th:text="${user.occupation}" class="profile-value"></p>

                    <label>Place of Work:</label>
                    <p th:text="${user.placeOfWork}" class="profile-value"></p>

                    <label>About me:</label>
                    <p th:text="${user.description}" class="profile-value"></p>

                    <h2>Verification Documents</h2>

                    <label>Attached ID:</label>
                    <div th:if="${base64IdDocument != null}">
                        <img th:src="'data:image/jpeg;base64,' + ${base64IdDocument}" alt="ID Document" />
                    </div>
                    <p th:if="${base64IdDocument == null}">No document uploaded</p>

                    <label>Work Reference:</label>
                    <div th:if="${base64WorkReference != null}">
                        <img th:src="'data:image/jpeg;base64,' + ${base64WorkReference}" alt="Work Reference" />
                    </div>
                    <p th:if="${base64WorkReference == null}">No document uploaded</p>

                    <label>Previous Landlord Reference:</label>
                    <div th:if="${base64LandlordReference != null}">
                        <img th:src="'data:image/jpeg;base64,' + ${base64LandlordReference}" alt="Landlord Reference" />
                    </div>
                    <p th:if="${base64LandlordReference == null}">No document uploaded</p>
                </div>
            </div>
        </div>
    </body>
</html>
